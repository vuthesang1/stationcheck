1
DAHUA IPC
HTTP API
2
1.Preface
This document details the API of Dahua IPC.Programmers can access and configure Dahua IPC follows the API.
2.Catalog
1. Preface .............................................................................................................................................................................................................. 2
2. Catalog .............................................................................................................................................................................................................. 2
3. HTTP API Transaction ........................................................................................................................................................................................ 5
3.1Transaction ................................................................................................................................................................................................... 5
3.2Authentication .............................................................................................................................................................................................. 6
4. Camera ............................................................................................................................................................................................................. 7
4.1Stream .......................................................................................................................................................................................................... 7
4.1.1 GetStream ......................................................................................................................................................................................... 7
4.1.2 GetMaxExtraStreamCounts ............................................................................................................................................................... 7
4.2VideoColor .................................................................................................................................................................................................... 7
4.2.1 GetVideoColorConfig ........................................................................................................................................................................ 7
4.2.2 SetVideoColorConfig ......................................................................................................................................................................... 8
4.3VideoInOptions ............................................................................................................................................................................................. 8
4.3.1 GetVideoInputCaps ........................................................................................................................................................................... 8
4.3.2 GetVideoInOptionsConfig ............................................................................................................................................................... 10
4.3.3 SetVideoInOptionsConfig ................................................................................................................................................................ 12
4.4VideoEncode ............................................................................................................................................................................................... 14
4.4.1 GetVideoConfigCaps ....................................................................................................................................................................... 14
4.4.2 Resolution ....................................................................................................................................................................................... 15
4.4.3 GetVideoEncodeConfig ................................................................................................................................................................... 16
4.4.4 SetVideoEncodeConfig .................................................................................................................................................................... 17
4.5AudioEncode ............................................................................................................................................................................................... 18
4.5.1 GetAudioConfigCaps ....................................................................................................................................................................... 18
4.5.2 GetAudioEncodeConfig ................................................................................................................................................................... 18
4.5.3 SetAudioEncodeConfig .................................................................................................................................................................... 19
4.6 SnapEncode ............................................................................................................................................................................................... 20
4.6.1 GetSnapConfigCaps ......................................................................................................................................................................... 20
4.6.2 GetSnapEncodeConfig .................................................................................................................................................................... 21
4.6.3 SetSnapEncodeConfig ..................................................................................................................................................................... 21
4.7ChannelTitle ................................................................................................................................................................................................ 22
4.7.1 GetChannelTitleConfig .................................................................................................................................................................... 22
4.7.2 SetChannelTitleConfig ..................................................................................................................................................................... 22
4.8VideoStandard ............................................................................................................................................................................................ 23
4.8.1 GetVideoStandardConfig ................................................................................................................................................................ 23
4.8.2 SetVideoStandardConfig ................................................................................................................................................................. 23
4.9VideoWidget ............................................................................................................................................................................................... 23
3
4.9.1 GetVideoWidgetConfig ................................................................................................................................................................... 23
4.9.2 SetVideoWidgetConfig .................................................................................................................................................................... 24
5. NetWork ......................................................................................................................................................................................................... 25
5.1NetInterfaces .............................................................................................................................................................................................. 25
5.1.1 GetInterfaces .................................................................................................................................................................................. 25
5.2BasicConfig ................................................................................................................................................................................................. 26
5.2.1 GetBasicConfig ................................................................................................................................................................................ 26
5.2.2 SetBasicConfig ................................................................................................................................................................................. 26
5.3PPPoE .......................................................................................................................................................................................................... 27
5.3.1 GetPPPoEConfig .............................................................................................................................................................................. 27
5.3.2 SetPPPoEConfig ............................................................................................................................................................................... 27
5.4DDNS ........................................................................................................................................................................................................... 28
5.4.1 GetDDNSConfig ............................................................................................................................................................................... 28
5.4.2 SetDDNSConfig ................................................................................................................................................................................ 28
5.5Email ........................................................................................................................................................................................................... 29
5.5.1 GetEmailConfig ............................................................................................................................................................................... 29
5.5.2 SetEmailConfig ................................................................................................................................................................................ 29
5.6Wlan ........................................................................................................................................................................................................... 30
5.6.1 GetWlanConfig ................................................................................................................................................................................ 30
5.6.2 SetWlanConfig ................................................................................................................................................................................ 30
5.7UPnP ........................................................................................................................................................................................................... 31
5.7.1 GetUPnPConfig ............................................................................................................................................................................... 31
5.7.2 SetUPnPConfig ................................................................................................................................................................................ 32
5.7.3 GetUPnPStatus ................................................................................................................................................................................ 32
5.8NTP ............................................................................................................................................................................................................. 32
5.8.1 GetNTPConfig .................................................................................................................................................................................. 32
5.8.2 SetNTPConfig .................................................................................................................................................................................. 33
5.9AlarmServer ................................................................................................................................................................................................ 34
5.9.1 GetAlarmServerConfig .................................................................................................................................................................... 34
5.9.2 SetAlarmServerConfig ..................................................................................................................................................................... 34
6. Events ............................................................................................................................................................................................................. 34
6.1EventHandler .............................................................................................................................................................................................. 34
6.1.1 GetEventHandler ............................................................................................................................................................................. 35
6.1.2 SetEventHandler ............................................................................................................................................................................. 36
6.2Alarm .......................................................................................................................................................................................................... 37
6.2.1 GetAlarmConfig .............................................................................................................................................................................. 37
6.2.2 SetAlarmConfig ............................................................................................................................................................................... 38
6.2.3 GetAlarmOutConfig ........................................................................................................................................................................ 38
6.2.4 SetAlarmOutConfig ......................................................................................................................................................................... 38
6.2.5 GetInSlots ........................................................................................................................................................................................ 39
6.2.6 GetOutSlots ..................................................................................................................................................................................... 39
6.2.7 GetInState ....................................................................................................................................................................................... 39
6.2.8 GetOutState .................................................................................................................................................................................... 39
6.3MotionDetect ............................................................................................................................................................................................. 40
6.3.1 GetMotionDetectConfig .................................................................................................................................................................. 40
4
6.3.2 SetMotionDetectConfig .................................................................................................................................................................. 40
6.4BlindDetect ................................................................................................................................................................................................. 41
6.4.1 GetBlindDetectConfig ..................................................................................................................................................................... 41
6.4.2 SetBlindDetectConfig ...................................................................................................................................................................... 41
6.5LossDetect .................................................................................................................................................................................................. 41
6.5.1 GetLossDetectConfig ....................................................................................................................................................................... 41
6.5.2 SetLossDetectConfig ....................................................................................................................................................................... 42
6.6 GetEventIndexes ........................................................................................................................................................................................ 42
7. PTZ .................................................................................................................................................................................................................. 42
7.1PTZConfig .................................................................................................................................................................................................... 42
7.1.1 GetPTZConfig .................................................................................................................................................................................. 42
7.1.2 SetPTZConfig ................................................................................................................................................................................... 43
7.2PTZControl .................................................................................................................................................................................................. 44
7.2.1 GetProtocolList ............................................................................................................................................................................... 44
7.2.2 GetCurrentProtocolCaps ................................................................................................................................................................. 44
7.2.3 PTZ control commands ................................................................................................................................................................... 45
8. Record&Snap .................................................................................................................................................................................................. 48
8.1Record ......................................................................................................................................................................................................... 48
8.1.1 GetRecordConfig ............................................................................................................................................................................. 48
8.1.2 SetRecordConfig .............................................................................................................................................................................. 48
8.1.3 GetRecordModeConfig ................................................................................................................................................................... 49
8.1.4 SetRecordModeConfig .................................................................................................................................................................... 49
8.2Snap ............................................................................................................................................................................................................ 49
8.2.1 GetSnapConfig ................................................................................................................................................................................ 49
8.2.2 SetSnapConfig ................................................................................................................................................................................. 50
9. System ............................................................................................................................................................................................................ 50
9.1General ....................................................................................................................................................................................................... 50
9.1.1 GetGeneralConfig............................................................................................................................................................................ 50
9.1.2 SetGeneralConfig ............................................................................................................................................................................ 50
9.2SystemTime ................................................................................................................................................................................................ 51
9.2.1 GetCurrentTime .............................................................................................................................................................................. 51
9.2.2 SetCurrentTime ............................................................................................................................................................................... 51
9.3Locales ........................................................................................................................................................................................................ 51
9.3.1 GetLocalesConfig ............................................................................................................................................................................ 51
9.3.2 SetLocalesConfig ............................................................................................................................................................................. 52
9.4Language ..................................................................................................................................................................................................... 53
9.4.1 GetLanguageCaps ........................................................................................................................................................................... 53
9.4.2 GetLanguageConfig ......................................................................................................................................................................... 53
9.4.3 SetLanguageConfig.......................................................................................................................................................................... 53
9.5AccessFilter ................................................................................................................................................................................................. 54
9.5.1 GetAccessFilterConfig ..................................................................................................................................................................... 54
9.5.2 SetAccessFilterConfig ...................................................................................................................................................................... 54
9.6AutoMaintain .............................................................................................................................................................................................. 54
9.6.1 GetAutoMaintainConfig .................................................................................................................................................................. 54
9.6.2 SetAutoMaintainConfig ................................................................................................................................................................... 55
5
9.7UserManager .............................................................................................................................................................................................. 55
9.7.1 Group .............................................................................................................................................................................................. 55
9.7.2 GetGroupInfo .................................................................................................................................................................................. 56
9.7.3 GetGroupInfoAll .............................................................................................................................................................................. 56
9.7.4 AddUser .......................................................................................................................................................................................... 56
9.7.5 DeleteUser ...................................................................................................................................................................................... 57
9.7.6 ModifyUser ..................................................................................................................................................................................... 57
9.7.7 ModifyPassword ............................................................................................................................................................................. 57
9.7.8 GetUserInfo ..................................................................................................................................................................................... 57
9.7.9 GetUserInfoAll................................................................................................................................................................................. 58
9.8System Operation ....................................................................................................................................................................................... 58
9.8.1 Reboot ............................................................................................................................................................................................ 58
9.8.2 Shutdown ........................................................................................................................................................................................ 58
9.8.3 GetDeviceType ................................................................................................................................................................................ 58
9.8.4 GetHardwareVersion ....................................................................................................................................................................... 58
9.8.5 GetSerialNo ..................................................................................................................................................................................... 59
9.8.6 GetMachineName ........................................................................................................................................................................... 59
9.8.7 GetSystemInfo ................................................................................................................................................................................. 59
9.9 Log ............................................................................................................................................................................................................. 59
9.9.1 StartFind.......................................................................................................................................................................................... 59
9.9.2 DoFind ............................................................................................................................................................................................. 59
9.9.3 StopFind .......................................................................................................................................................................................... 60
9.9.4 Clear ................................................................................................................................................................................................ 60
3.HTTP API Transaction
3.1Transaction
The HTTP API Transaction starts from a request from a client Application, usually a web browser. The request is processed by the web
server on the IP Camera, then send the response back to the client application. The HTTP APP is taken in GET form. If the request is successful,
the IP Camera will return a HTTP header contains 200 OK. The HTTP Body will contain actual data or error message if an error occurs.
For describe convenience, we use some short words to instead the long expressions. The follows are several regulations:
1. The italics and bold will be replaced by the value behind the symbol “=”.
2. The URL must follow the standard way of writing a URL.(RFC_3986:Uniform Resource Identifiers (URI) Generic Syntax);that is ,spaces
and other reserved characters (“;”, “/”, “?”, “:”, “@”, “=”, “+”, “,” and “$”) within a <paramName> or a <paramValue> must be replaced
with %<ASCII hex>.For example ,the blank must be instead with %20.
3. To describe the range of the configuration, we use some symbols such as “[]”, “{}” and so on. For example :”[0-100]” denotes a
integer not less than 0 and not larger than 100. “{0,1,2,3}” denotes the valid value of a integer among 0,1,2 and 3.
4. In the request and response, we use “[]” to denote an array. The index is usually a integer and start form 0.
5. The parameter value has several types: string, integer, bool and float.Integer is 32 bits.The range of bool is “true” and “false”.
The below is an example of a transaction:
Request GET http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=VideoColor
6
Description Get VideoColor configuration.
Response HTTP/1.0 200 OK
Content-Type:text/plain
head.Brightness=50
head.Contrast=50
head.Hue=50
head.Saturation=50
head.TimeSection=1 00:00:00-24:00:00
Comment In above table, head= table.VideoColor[ChannelNo][ColorConfigNo]
ChannelNo = video channel index,
colorConfigNo = color config index.
 0 = Color Config 1
1 = Color Config 2
…
We can also request the single config.
For example:
Request :
GET http://10.7.2.4/cgi-bin/configManager.cgi?action=getConfig&name=table.VideoColor[0][0].Brightness
Response:
HTTP/1.0 200 OK
Content-Type:text/plain
table.VideoColor[0][0].Brightness=50

3.2Authentication
The IP Camera supplies two authentication ways: basic authentication and digest authentication. Client can login through:
http://<ip>/cgi-bin/global.login?userName=admin. The IP camera returns 401. Then the client inputs a username and password to authorize.
For example:
1. When basic authentication, the IP camera response:
401 Unauthorized
 WWW-Authenticate: Basic realm=”XXXXXX”
 Then the client encode the username and password with base64, send the following request:
Authorization: Basic VXZVXZ.
2. When digest authentication, the IP camera response:
WWW-Authenticate: Digest realm="DH_00408CA5EA04", nonce="000562fdY631973ef04f77a3ede7c1832ff48720ef95ad",
stale=FALSE, qop="auth";
The client calculates the digest using username, password, nonce, realm and URI with MD5, then send the following request:
Authorization: Digest username="admin", realm="DH_00408CA5EA04", nc=00000001,cnonce="0a4f113b",qop="auth"
nonce="000562fdY631973ef04f77a3ede7c1832ff48720ef95ad",uri="cgi-bin/global.login?userName=admin",
response="65002de02df697e946b750590b44f8bf"
7
4.Camera
Camera API allows application to configure and view camera settings.
4.1Stream
4.1.1 GetStream
URL Syntax rtsp://<username>:<password>@<ip>:<port>/cam/realmonitor?channel=<channelNo>&subtype=<typeNo>
Comment <username>: a valid user’s username.
<password> :user’s password.
<ip> :the IP address of the IP Camera.
<port >:the default port is 554. It can be omitted.
<channelNo> :the channel number. It starts from 1.
<typeNo> :the stream type. The <typeNo> of main stream is 0, extra stream 1 is 1, extra stream 2 is 2.The extra stream
counts can be obtained in 4.1.2 GetMaxStreamCounts. The stream must be enabled by setting head.VideoEnable to
true in 4.4.4 SetVideoEncodeConfig.
For example, we request the extra stream 1 of channel 1, the URL is:
rtsp://admin:admin@10.7.6.67:554/cam/realmonitor?channel=1&subtype=1.
The IP Camera supports both TCP and UDP transmission forms.
It also supplies basic authentication and digest authentication ways. The authentication process is similar with 3.2
Authentication.
4.1.2 GetMaxExtraStreamCounts
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getProductDefinition&name=MaxExtraStream
Response table.MaxExtraStream=1
Comment In above table, the range of table.MaxExtraStream is {1,2,3}
4.2VideoColor
4.2.1 GetVideoColorConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=VideoColor
Response head.Brightness=50
head.Contrast=50
head.Hue=50
head.Saturation=50
8
head.TimeSection=1 00:00:00-24:00:00
Comment In above table, head= table.VideoColor[ChannelNo][ColorConfigNo]
ChannelNo = video channel index,
colorConfigNo = color config index.
 0 = Color Config 1
1 = Color Config 2
 …
4.2.2 SetVideoColorConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Response OK or ERROR
Comment In below table, head=VideoColor[ChannelNo][ColorConfigNo]
ChannelNo = video channel index,
colorConfigNo = color config index,
 0 = Color Config 1
1 = Color Config 2
 …
ParamName ParamValue type Description
head.Brightness integer Brightness, range is [0-100]
head.Contrast integer Contrast, range is [0-100]
head.Hue integer Hue
head.Saturation integer Saturation
head.TimeSection string Effective time for this video color config.
Format is: mask starttime endtime
Mask range is {0, 1}.
Mask 0 – this video config is not effective
Mask 1 - this config is effective
Starttime/Endtime format like 11:00:00.
Example:
0 01:00:00-02:00:00, means this config is not effective.
1 01:00:00-02:00:00, means this config is effective between 01:00:00 and 02:00:00
4.3VideoInOptions
4.3.1 GetVideoInputCaps
URL Syntax http://<ip>/cgi-bin/devVideoInput.cgi?action=getCaps&channel=<channelNo>
Description Get video input capabilities, channelNo is video in channel index.
9
Response caps.Backlight=true
caps.ChipID=0
caps.CoverCount=0
caps.CoverType=0
caps.CustomManualExposure=true
caps.DayNightColor=true
caps.DownScaling=true
caps.Exposure=9
caps.ExternalSyncInput=true
caps.FlashAdjust=true
caps.Flip=true
caps.Gain=true
caps.GainAuto=true
caps.HorizontalBinning=1
caps.InfraRed=false
caps.Iris=false
caps.IrisAuto=false
caps.LadenBitrate=750000
caps.LimitedAutoExposure=true
caps.MaxHeight=1200
caps.MaxWidth=1600
caps.Mirror=false
caps.NightOptions=false
caps.ReferenceLevel=false
caps.Rotate90=false
caps.SetColor=true
caps.SignalFormats=Inside,720p,1080p
caps.SyncChipChannels=false
caps.TitleCount=0
caps.UpScaling=false
caps.VerticalBinning=1
caps.WhiteBalance=2
Field in respons Value type Description
Backlight bool True: support backlight
ChipID String ID of chips in this channel
CoverCount integer The maximum cover region count.
CoverType integer 0: don’t support cover
1: support realtime cover
2: support non-realtime cover
CustomManualExposure bool, true: support use defined manual exposure time
DayNightColor bool true: support color alternate between day and night.
DownScaling bool true: support down scaling, binning mode not included.
Exposure integer Exposure grade. 0 – don’t support exposure control.
10
ExternalSyncInput bool true: support HD signal external synchronization.
FlashAdjust bool true: support flash adjust
Flip bool true: support picture flip.
Gain bool true: support gain control.
GainAuto bool true: support auto gain.
HorizontalBinning integer Horizontal/Vertical pixel binning mask,
1 – support 2 pixel binning,
2 – support 3 pixel binning
4 - support 4 pixel binning
…
2^n – support n+2 pixel binning
VerticalBinning integer
InfraRed bool true: support Infra compensation
Iris bool true: support Iris adjust
IrisAuto bool true: support auto Iris adjust
LadenBitrate integer Unit is Kbps.
Maximum value of video stream bitrate, 16bpp, not in binning mode.
LimitedAutoExposure bool true: support auto exposure with time limit.
MaxHeight integer Maximum video height
MaxWidth integer Maximum video width
Mirror bool true: support picture mirror.
NightOptions bool true: support night options.
ReferenceLevel bool true: support reference level.
Rotate90 bool true: support clockwise/anticlockwise 90°rotate
SetColor bool true: support color set.
SignalFormats string It’s a string contains supported video input signal formats for this channel. Signal formats
are separated by comma.
Range is {Inside, BT656, 720p,1080p, 1080i, 1080sF, 1_3M}
Inside – inside input.
1_3M - 1280*960
SyncChipChannels bool True: channels in same chip should be synchronized. Synchronized means video resolution
of these channels should be the same.
TitleCount integer Maximum count of blending titles.
UpScaling bool true: support up scaling.
WhiteBalance integer Range is {0, 1, 2, 3}
0 – don’t support white balance.
1 – support auto white balance
2 - support auto and pre defined white balance.
3 - support auto, pre defined and user defined white balance
4.3.2 GetVideoInOptionsConfig
11
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=VideoInOptions
Description Video in options contain Backlight, ExposureSpeed, DayNightColor. NightOptions,and so on
Response head.Backlight=0
head.DayNightColor=false
head.ExposureSpeed=0
head.ExposureValue1=0.100000
head.ExposureValue2=80.000000
head.ExternalSync=0
head.ExternalSyncPhase=0
head.FlashControl.Mode=0
head.FlashControl.Pole=0
head.FlashControl.Value=0
head.FlashControl.PreValue=0
head.Flip=false
head.Gain=50
head.GainAuto=true
head.IrisAuto=false
head.Mirror=false
head.NightOptions.BrightnessThreshold=50
head.NightOptions.ExposureSpeed=0
head.NightOptions.ExposureValue1=0.100000
head.NightOptions.ExposureValue2=80
head.NightOptions.Gain=50
head.NightOptions.GainAuto=true
head.NightOptions.GainBlue=50
head.NightOptions.GainGreen=50
head.NightOptions.GainRed=50
head.NightOptions.IrisAuto=false
head.NightOptions.SunriseHour=0
head.NightOptions.SunriseMinute=0
head.NightOptions.SunriseSecond=0
head.NightOptions.SunsetHour=0
head.NightOptions.SunsetMinute=0
head.NightOptions.SunsetSecond=0
head.NightOptions.SwitchMode=0
head.NightOptions.WhiteBalance=Disable
head.ReferenceLevel=50
head.ReferenceLevelEnable=false
head.Rotate90=0
head.SignalFormat=BT656
head.WhiteBalance=Disable
Comment In above table, head = table.VideoInOptions[ChannelNo]
ChannelNo = video channel index.
12
4.3.3 SetVideoInOptionsConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment In below table, head =VideoInOptions[ChannelNo]
ChannelNo = video channel index.
Response OK or ERROR
ParamName ParamValue
type
Description
head.Backlight integer Range is [0-n]
n depends on capability in 4.3.1 GetVideoInputCaps
0 – backlight closed.
1 – backlight grade 1
…
n – backlight grade n
head.DayNightColor integer Range is {0,1,2}
0: always multicolor
1: autoswitch along with brightness，
2: always monochrome
head.ExposureSpeed integer Range is [0-n+1]
n depends on capability in 4.3.1 GetVideoInputCaps
0: AutoExposure
1-n-1: manual Exposure grade
n: AutoExposure with time limit.
n+1:manualExposure with user-defined time
(n is supported maximum exposure grade )
head.ExposureValue1 float Range is [0.1-80], unit is millisecond
If ExposureSpeed is 0(AutoExposure enable), it’s lower limit of AutoExposure
time, otherwise it’s time of manualExposure
head.ExposureValue2 float Range is [0.1-80], unit is millisecond
Upper limit of AutoExposure time, should be bigger than ExposureValue1
head.ExternalSync integer Range is {0,1}
External Synchronous
0: Internal Synchronization
1: External Synchronous
head.ExternalSyncPhase integer Range is [0°-360°]
External Synchronous Signal Phase
head.FlashControl.Mode integer Range is {0,1,2}
0:forbid flash
1:always flash
2:auto flash
head.FlashControl.Pole integer Range is {0,1, 2, 3}
Trigger mode:
0:low level
13
1:high level
2:rising-edge
3:falling-edge
head.FlashControl.Value integer Range is [0-15]
Flashlight time-unit:
0 - 0us,
1 - 64us,
2 - 128us,
3 – 192us
...
15 - 960us
head.FlashControl.PreValue integer Range is [0-100]
It’s threshold of brightness value, if brightness is less than this value, flash light
begin to work.
head.Flip bool true: enable video flip function
false: disable video flip function
head.Gain integer Range is [0-100]
If GainAuto is true, it’s upper limit of auto gain, else it’s the fixed gain adjust
value.
head.GainBlue integer Range is [0-100]
Gain for blue value, Value is effective when WhiteBalance is “Custom.”
head.GainRed integer Range is [0-100]
Gain for red value, Value is effective when WhiteBalance is “Custom.”
head.GainGreen integer Range is [0-100]
Gain for green value, Value is effective when WhiteBalance is “Custom.”
head.GainAuto bool true: GainAuto
false: No GainAuto
head.IrisAuto bool true: IrisAuto
false: No IrisAuto
head.Mirror bool true: enable video mirror function
false: disable video mirror function
head.WhiteBalance String Range is {Disable, Auto, Custom, Sunny, Cloudy, Home, Office, Night}
White balance Mode
head.ReferenceLevel integer Range is [0-100]
The expected average brightness level of video frames.
head.Rotate90 integer Range is {0,1,2}
Video rotation:
0: No rotate
1: clockwise rotate 90°
2: anticlockwise rotate 90°
head.SignalFormat String Range is {Inside, BT656, 720p, 1080p, 1080i, 1080sF}
Input Signal Mode
head.NightOptions.BrightnessThreshold integer NightOptions contain a set of parameters used when brightness is not enough.
Range is [0-100]
14
when brightness is less than the BrightnessThreshold, parameters change to
Nightoptions.
head.NightOptions.IrisAuto bool true: IrisAuto
false: No IrisAuto
head.NightOptions.SunriseHour integer Range is [00-23]
Sunrise hour.
head.NightOptions.SunriseMinute integer Range is [00-59]
Sunrise minute
head.NightOptions.SunriseSecond integer Range is [00-59]
Sunrise second
head.NightOptions.SunsetHour integer Sunset time. Its range is same with sunrise time, and it should be after sunrise
time.
NightOptions are used if time is after sunset time and before sunrise time.
head.NightOptions.SunsetMinute integer
head.NightOptions.SunsetSecond integer
head.NightOptions.SwitchMode integer Range is {0,1,2}
0: NoSwitch；
1: Switch depends on brightness；
2: Switch depends on time, switch to NightOptions when time is after sunset
time and before sunrise.
head.NightOptions.ExposureSpeed integer Range is same as relevant items of normal options in this table.
Example:
Value range of head.NightOptions.ExposureSpeed is the same with
head. ExposureSpeed
head.NightOptions.ExposureValue1 float
head.NightOptions.ExposureValue2 float
head.NightOptions.Gain integer
head.NightOptions.GainAuto bool
head.NightOptions.GainBlue integer
head.NightOptions.GainGreen integer
head.NightOptions.GainRed integer
head.NightOptions.WhiteBalance String
head.NightOptions. ReferenceLevel integer
head.NightOptions. ExternalSyncPhase integer
4.4VideoEncode
4.4.1 GetVideoConfigCaps
URL Syntax http://<ip>/cgi-bin/encode.cgi?action=getConfigCaps
Description Get video config capibilities.
Response headMain.Video.BitRateOptions=448,2560
headMain.Video.CompressionTypes=H.264,MJPG
headMain.Video.FPSMax=25
headMain.Video.ResolutionTypes=2048 x 1536,1080,SXGA, 1280 x 960,720,D1,CIF
headExtra.Video.BitRateOptions=80,448
headExtra.Video.CompressionTypes=H.264,MJPG
headExtra.Video.FPSMax=25
15
headExtra.Video.ResolutionTypes=D1,CIF
headSnap.Video.CompressionTypes=H.264,MJPG
headSnap.Video.ResolutionTypes=2048 x 1536,1080,SXGA, 1280 x 960,720,D1,CIF
Comment In above table:
Channel: video channel index
RecordType:
 0 = regular record
 1 = motion detection record
 2 = alarm record
ExtraStream:
0 = extra stream 1
1 = extra stream 2
2 = extra stream 3
SnapType:
 0 = regular snapshot
 1 = motion detection snapshot
 2 = alarm snapshot
Abbreviations in below table:
headMain= caps[Channel].MainFormat[RecordType]
headExtra = caps[Channel].ExtraFormat[ExtraStream]
headSnap = caps[Channel].SnapFormat[SnapType]
Field in respons Value range Description
BitRateOptions string Before comma is minimum bit rate. (kbps), after comma is maximum bit rate.(kbps)
BitRateOptions=80,448
80 is minimum bitrate, 448 is maximum.
CompressionTypes
string
It contains all supported video compression types separated by comma.
Range is {MPEG4, MPEG2, MPEG1, MJPG, H.263, H.264}
FPSMax integer Maximum FPS.
ResolutionTypes
string
It contains all supported video resolutions.
Range is in 4.4.2 Resolution.
4.4.2 Resolution
Fixed Resolution Name Size in PAL Size in NTSC
"D1" 704 x 576 704 x 480
"HD1" 352 x 576 352 x 480
"BCIF" 704 x 288 704 x 240
"CIF" 352 x 288 352 x 240
"QCIF" 176 x 144 176 x 120
"VGA" 640 x 480
16
"QVGA" 320 x 240
"SVCD" 480 x 480
"QQVGA" 160 x 128
"SVGA" 800 x 592
"XVGA" 1024 x 768
"WXGA" 1280 x 800
"SXGA" 1280 x 1024
"WSXGA" 1600 x 1024
"UXGA" 1600 x 1200
"WUXGA" 1920 x 1200
"ND1" 240 x 192
"720" 1280 x 720
"1080" 1920 x 1080
"1280x960" 1280 x 960 (1.3 Mega Pixels)
"1872x1408" 1872 x 1408 (2.5 Mega Pixels)
"3744x1408" 3744 x 1408 (5 Mega Pixels)
"2048x1536" 2048 x 1536 (3 Mega Pixels)
"2432x2048" 2432 x 2048 (5 Mega Pixels)
"1216x1024" 1216 x 1024 (1.2 Mega Pixels)
"1408x1024" 1408 x 1024 (1.5 Mega Pixels)
"3296x2472" 3296 x 2472 (8 Mega Pixels)
"2560x1920" 2560 x 1920 (5 Mega Pixels)
"960H", 960 x 576 960 x 480
"DV720P" 960 x 720
4.4.3 GetVideoEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Encode
Response headMain.Video.BitRate=8192
headMain.Video.BitRateControl=CBR
headMain.Video.Compression=H.264
headMain.Video.FPS=25
headMain.Video.GOP=50
headMain.Video.Height=1200
headMain.Video.Profile=Main
headMain.Video.Quality=4
headMain.Video.Width=1600
headMain.VideoEnable=true
headExtra.Video.BitRate=8192
headExtra.Video.BitRateControl=CBR
headExtra.Video.Compression=H.264
headExtra.Video.FPS=25
headExtra.Video.GOP=50
17
headExtra.Video.Height=1200
headExtra.Video.Profile=Main
headExtra.Video.Quality=4
headExtra.Video.Width=1600
headExtra.VideoEnable=true
Comment Channel: video channel index
RecordType:
 0 = regular record
 1 = motion detection record
 2 = alarm record
ExtraStream:
0 = extra stream 1
1 = extra stream 2
2 = extra stream 3
Abbreviations in above table:
headMain= table.Encode[Channel].MainFormat[RecordType]
headExtra =table.Encode[Channel].ExtraFormat[ExtraStream]
4.4.4 SetVideoEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel index
RecordType:
 0 = regular record
 1 = motion detection record
 2 = alarm record
ExtraStream:
0 = extra stream 1
1 = extra stream 2
2 = extra stream 3
Abbreviation in below table:
head=Encode[Channel].MainFormat[RecordType] (or)
Encode[Channel].ExtraFormat[ExtraStream]
Response OK or ERROR
ParamName ParamValue type Description
head.Video.BitRate integer Unit is Kbps
Range depends on capability in 4.4.1 GetVideoConfigCaps
head.Video.BitRateControl string Range is {CBR,VBR}
CBR: constant bitrate
18
VBR: variable bitrate
head.Video.Compression String Range is {MPEG4,MPEG2, MPEG1,MJPG,H.263,H.264}
Depends on capacity in 4.4.1 GetVideoConfigCaps
head.Video.FPS float Range is [0.2-30].
Frames per second.
< 1.0: several seconds/frame, FPS=0.3333: 3 seconds per frame.
>1.0: several frames/second. FPS=3: 3 frames per second.
head.Video.GOP integer Range is [1-100].
Group of picture, it’s the interval of I Frame,
Example: GOP=50, means there is one I frame every 49 P or B frames
head.Video.Height integer Video height
head.Video.Width integer Video Width
head.Video.Profile String Range is { Baseline, Main , Extended , High }
Only when video compression is H.264, it’s effective.
head.Video.Quality integer Range is [1-6].
Image Quality, available when Video.BitRateControl=VBR
1: worst quality
6: best quality
head.VideoEnable bool True: enable video
4.5AudioEncode
4.5.1 GetAudioConfigCaps
URL Syntax http://<ip>/cgi-bin/encode.cgi?action=getConfigCaps
Comment The angle brackets below denotes a array
Response caps[0].ExtraFormat[0].Audio.CompressionTypes=PCM,G.711A,G.711Mu
caps[0].ExtraFormat[1]….
…
caps[0].MainFormat[0].Audio.CompressionTypes=PCM,G.711A,G.711Mu
caps[0].MainFormat[1]…
…
Field in respons Value range Description
CompressionTypes
string
It contains all supported audio compression types, separated by comma.
Range is {PCM, ADPCM, G.711A, G.711Mu, G.726, G.729, MPEG2, AMR}
4.5.2 GetAudioEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Encode
Response headMain.Audio.Bitrate=64
19
headMain.Audio.Compression=G.711A
headMain.Audio.Depth=16
headMain.Audio.Frequency=44000
headMain.Audio.Mode=0
headMain.AudioEnable=false
headExtra.Audio.Bitrate=64
headExtra.Audio.Compression=G.711A
headExtra.Audio.Depth=16
headExtra.Audio.Frequency=44000
headExtra.Audio.Mode=0
headExtra.AudioEnable=false
Comment Channel: video channel index
RecordType:
 0 = regular record
 1 = motion detection record
 2 = alarm record
ExtraStream:
0 = extra stream 1
1 = extra stream 2
2 = extra stream 3
Abbreviations in above table:
headMain=table.Encode[Channel].MainFormat[RecordType]
headExtra=table.Encode[Channel].ExtraFormat[ExtraStream]
4.5.3 SetAudioEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel index
RecordType:
 0 = regular record
 1 = motion detection record
 2 = alarm record
ExtraStream:
0 = extra stream 1
1 = extra stream 2
2 = extra stream 3
Abbreviations in below table:
head=Encode[Channel].MainFormat[RecordType] (or)
Encode[Channel].ExtraFormat[ExtraStream]
Response OK or ERROR
20
ParamName ParamValue type Description
head.Audio.Bitrate integer Unit is kbps
Range depends on capacity in 4.5.1 GetAudioConfigCaps
head.Audio.Compression string Range depends on capacity in 4.5.1 GetAudioConfigCaps
head.Audio.Depth integer Audio sampling depth
head.Audio.Frequency integer Audio sampling frequency
head.Audio.Mode integer Range is {0,1,2,3,4,5,6,7}
Audio encode mode.
0: 4.75kbps,
1: 5.15 kbps,
2: 5.9 kbps,
3: 6.7 kbps,
4: 7.4 kbps,
5: 7.95 kbps,
6: 10.2 kbps,
7: 12.2 kbps,
head.AudioEnable bool Enable/Disable audio
4.6 SnapEncode
4.6.1 GetSnapConfigCaps
URL Syntax http://<ip>/cgi-bin/encode.cgi?action=getConfigCaps
Comment Channel: video channel index
SnapType:
 0 = regular snapshot
 1 = motion detection snapshot
 2 = alarm snapshot
Response caps[Channel].SnapFormat[SnapType].Video.CompressionTypes=H.264,MJPG
caps[Channel].SnapFormat[SnapType].Video.ResolutionTypes=3M,1080,SXGA,1_3M,720,D1,CIF
Field in respons Value range Description
CompressionTypes
string
It contains all supported video compression types separated by comma.
Range is {MPEG4, MPEG2, MPEG1, MJPG, H.263, H.264}
ResolutionTypes
string
It contains all supported video resolutions, separated by comma.
Range is {D1, HD1, BCIF, CIF, QCIF, VGA, QVGA, SVGA, XVGA, WXGA, SXGA, WSXGA, UXGA,
WUXGA, ND1,720, 1080, 1_3M, 2_5M, 3M, 5M}.
21
4.6.2 GetSnapEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Encode [Channel].SnapFormat
Response headSnap.Video.BitRate=384
headSnap.Video.BitRateControl=VBR
headSnap.Video.Compression=H.264
headSnap.Video.FPS=1
headSnap.Video.GOP=50
headSnap.Video.Height=576
headSnap.Video.Quality=4
headSnap.Video.Width=704
headSnap.VideoEnable=true
Comment Channel: video channel index
SnapType:
 0 = regular snapshot
 1 = motion detection snapshot
 2 = alarm snapshot
Abbreviations in above table:
headSnap = table.Encode[Channel].SnapFormat[SnapType]
4.6.3 SetSnapEncodeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel index
SnapType:
 0 = regular snapshot
 1 = motion detection snapshot
 2 = alarm snapshot
Abbreviation in below table:
head= Encode[Channel].SnapFormat[SnapType]
Response OK or ERROR
ParamName ParamValue type Description
head.Video.BitRate integer Unit is Kbps
Range depends on capability in 4.3.1 GetVideoInputCaps
head.Video.BitRateControl string Range is {CBR,VBR}
CBR: constant bitrate
VBR: variable bitrate
head.Video.Compression String Range is {MPEG4,MPEG2, MPEG1,MJPG,H.263,H.264}
22
Depends on capacity in 4.3.1 GetVideoInputCaps
head.Video.FPS float Range is [0.2-30].
Frames per second.
< 1.0: several seconds/frame, FPS=0.3333: 3 seconds per frame.
>1.0: several frames/second. FPS=3: 3 frames per second.
head.Video.GOP integer Range is [1-100].
Group of picture, it’s the interval of I Frame,
Example: GOP=50, means there is one I frame every 49 P or B frames
head.Video.Height integer Video height
head.Video.Width integer Video Width
head.Video.Quality integer Range is [1-6].
Image Quality, available when Video.BitRateControl=VBR
1: worst quality
6: best quality
head.VideoEnable bool True: enable video
4.7ChannelTitle
4.7.1 GetChannelTitleConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=ChannelTitle
Comment Get the title of the channel.
In below table, Channel = video channel index
Response table.ChannelTitle[Channel].Name=CAM1
4.7.2 SetChannelTitleConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>
Comment Set the title of the channel.
If VideoWidget[Channel].ChannelTitle.EncodeBlend is true, this title is blended to the video frames.
Please refer to 4.8.2 SetVideoWidget
In below table, Channel : video channel index
Response OK or ERROR
ParamName ParamValue type Description
ChannelTitle[Channel].Name String Channel Name
23
4.8VideoStandard
4.8.1 GetVideoStandardConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=VideoStandard
Comment
Response table.VideoStandard=PAL
4.8.2 SetVideoStandardConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>
Comment
Response OK or ERROR
ParamName ParamValue type Description
VideoStandard string Range is {PAL，NTSC}
Video Standard
4.9VideoWidget
4.9.1 GetVideoWidgetConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=VideoWidget
Description VideoWidget config contains ChannelTitle, Covers and TimeTitle parameters, defines the background color, front color and
positions of channel title and time title, and defines the regions which are not visible (cover).
Response head.BackColor[0]=0
head.BackColor[1]=0
head.BackColor[2]=0
head.BackColor[3]=128
head.EncodeBlend=true
head.FrontColor[0]=255
head.FrontColor[1]=255
head.FrontColor[2]=255
head.FrontColor[3]=0
head.PreviewBlend=true
head.Rect[0]=0
head.Rect[1]=8191
head.Rect[2]=0
head.Rect[3]=8191
…
24
…
Comment Channel: video channel index
CoReg: Cover Region
Covers is an array which sustains multi- Cover regions
 0 = region 1
 1 = region 2
 2 = region 3
3 = region 4
head=table.VideoWidget[Channel].ChannelTitle (or)
table.VideoWidget[Channel].Covers[CoReg] (or)
table.VideoWidget[Channel].TimeTitle
4.9.2 SetVideoWidgetConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel index
CoReg :Cover region index
Covers is an array which contains multiple cover regions
 0 = region 1
 1 = region 2
 2 = region 3
3 = region 4
headChannelTitle = VideoWidget[Channel].ChannelTitle
headCover = VideoWidget[Channel].Covers[CoReg]
headTimeTitle = VideoWidget[Channel].TimeTitle
VideoWidgetConfig contains cover region settings, channel title settings and time title settings.
The italics below will be replaced by the above abbreviations.
Response OK or ERROR
ParamName ParamValue type Description
headCover.BackColor[0]
headCover.BackColor[1]
headCover.BackColor[2]
headCover.BackColor[3]
integer Range is [0-255].
BackColor[0]:red value
BackColor[1]:green value
BackColor[2]:blue value
BackColor[3]: alpha value
headCover.EncodeBlend bool false - widget blend is disabled.
headCover.FrontColor[0]
headCover.FrontColor[1]
headCover.FrontColor[2]
headCover.FrontColor[3]
integer Range is [0-255].
FrontColor[0]:red value
FrontColor[1]:green value
FrontColor[2]:blue value
FrontColor[3]: alpha value
25
headCover.Rect[0]
headCover.Rect[1]
headCover.Rect[2]
headCover.Rect[3]
integer Range is [0-8191].
Rect[0]：top left corner x coordinate (left)
Rect[1]：top left corner y coordinate (top)
Rect[2]：bottom right x coordinate (right)
Rect[3]：bottom right y coordinate (bottom)
headChannelTitle.BackColor[0]
headChannelTitle.BackColor[1]
headChannelTitle.BackColor[2]
headChannelTitle.BackColor[3]
integer Range is the same with headCover
headChannelTitle.EncodeBlend bool
headChannelTitle.FrontColor[0]
headChannelTitle.FrontColor[1]
headChannelTitle.FrontColor[2]
headChannelTitle.FrontColor[3]
integer
headChannelTitle.Rect[0]
headChannelTitle.Rect[1]
headChannelTitle.Rect[2]
headChannelTitle.Rect[3]
integer Only use the value of (left,top),the value of (right,bottom) is the same
as (left,top)
Rect[0], Rect[1] are used, and Rect[2] must be same with Rect[0],
Rect[3] must be same with Rect[1].
headTimeTitle.BackColor[0]
headTimeTitle.BackColor[1]
headTimeTitle.BackColor[2]
headTimeTitle.BackColor[3]
integer Range is the same with headChannelTitle
These are configs about time title.
headTimeTitle.EncodeBlend bool
headTimeTitle.FrontColor[0]
headTimeTitle.FrontColor[1]
headTimeTitle.FrontColor[2]
headTimeTitle.FrontColor[3]
integer
headTimeTitle.Rect[0]
headTimeTitle.Rect[1]
headTimeTitle.Rect[2]
headTimeTitle.Rect[3]
integer
headTimeTitle.ShowWeek bool True: Display week within the time title.
5.NetWork
5.1NetInterfaces
5.1.1 GetInterfaces
URL Syntax http://<ip>/cgi-bin/netApp.cgi?action=getInterfaces
Comment Get all of the system network interfaces.
26
Description for items In below table
Name: network interface name.
“eth0” - wired network interface
“eth2” - wireless network interface
“3G” - 3G network interface
Type: “Normal” – wired network
 “Wireless” – wireless network
 "Auto", "TD-SCDMA", "WCDMA", "CDMA1x", "EDGE", "EVDO" – 3G network types.
Valid: network interface is valid if netInterface[n].Valid is true.
Response netInterface[0].Name=eth0
netInterface[0].Type=Normal
netInterface[0].Valid=true
netInterface[1]….
…
5.2BasicConfig
5.2.1 GetBasicConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Network
Comment Basic config contains basic network parameters (Default interface, domain name, host name), and configuration of each
network interface.
interface in below table is network interface name, such as eth0, eth2…
Response table.Network.DefaultInterface=eth0
table.Network.Domain=dahua
table.Network.Hostname=badak
table.Network.interface.DefaultGateway=10.7.0.1
table.Network.interface.DhcpEnable=false
table.Network.interface.DnsServers[0]=221.123.33.228
table.Network.interface.DnsServers[1]=221.12.1.228
table.Network.interface.IPAddress=10.7.2.3
table.Network.interface.MTU=1500
table.Network.interface.PhysicalAddress=00:10:5c:f2:1c:b4
table.Network.interface.SubnetMask=255.255.0.0
5.2.2 SetBasicConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment interface in below table is network interface name, such as eth0, eth1…
Response OK or ERROR
27
ParamName ParamValue type Description
NetWork.DefaultInterface string Set default network interface when multiple interfaces exist.
Range of interfaces is depends on 5.1.1 GetInterfaces
NetWork.Domain string Domain name.
NetWork.Hostname string Hostname and Domain compose a network address.
Network.interface.DefaultGateway string IP address
Network.interface.DhcpEnable bool Enable/Disable DHCP.
Network.interface.DnsServers[0] string IP address of first DNS server.
Network.interface.DnsServers[1] string IP address of second DNS server.
Network.interface.IPAddress string Interface IP address.
Network.interface.MTU integer Interface MTU.
Network.interface.PhysicalAddress string MAC address of interface.
HEX string in the form of:
xx:xx:xx:xx:xx:xx.
Range of x is [0-9,a-f,A-F]
Example:
00:10:5c:f2:1c:b4
00:10:5C:F2:1C:B5
Network.interface.SubnetMask string Network mask string:
In the form of x.x.x.x, range of x is [0-255]
Example:
255.255.255.0
5.3PPPoE
5.3.1 GetPPPoEConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=PPPoE
Comment
Response table.PPPoE.Enable=false
table.PPPoE.Password=123456
table.PPPoE.UserName=123456
5.3.2 SetPPPoEConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
28
ParamName ParamValue type Description
PPPoE.Enable bool Enable/Disable PPPoE.
PPPoE.UserName string PPPoE user name.
PPPoE.Password string PPPoE user password.
5.4DDNS
5.4.1 GetDDNSConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=DDNS
Comment Index below is the DDNS protocol table index, start from 0.
Response table.DDNS[index].Address=www.dahuatech.com
table.DDNS[index].Enable=true
table.DDNS[index].HostName=www.dahuatech.com
table.DDNS[index].KeepAlive=10
table.DDNS[index].Password=none
table.DDNS[index].Port=5050
table.DDNS[index].Protocol=DAHUA
table.DDNS[index].UserName=user1
5.4.2 SetDDNSConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Index below is the DDNS protocol table index, start from 0.
Response OK or ERROR
ParamName ParamValue type Description
DDNS[index].Address string DDNS server IP address or name.
DDNS[index].Enable bool Multiple DDNS hostname can be configured, but Only one
hostname can be enabled, others should be disabled.
DDNS[index].HostName String Host name of this device.
DDNS[index].KeepAlive integer Range is [1-65535].
Unit is minutes.
DDNS[index].Password string DDNS user password
DDNS[index].Port integer Range is [1-65535].
Port of DDSN server
DDNS[index].Protocol string Range is {NO-IP DDNS, Dyndns DDNS, DAHUA}.
DDSN protocol type
29
DDNS[index].UserName string DDNS user name
5.5Email
5.5.1 GetEmailConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Email
Comment
Response table.Email.Address=www.dahuatech.com
table.Email.Anonymous=true
table.Email.AttachEnable=true
table.Email.AttachmentEnable=true
table.Email.Enable=true
table.Email.HealthReport.Enable=false
table.Email.HealthReport.Interval=61
table.Email.Password=123456
table.Email.Port=26
table.Email.Receivers[0]=x@dahuatech.com
table.Email.Receivers[1]=y@dahuatech.com
table.Email.Receivers[2]=z@dahuatech.com
table.Email.SendAddress=x@dahuatech.com
table.Email.SslEnable=false
table.Email.Title=DVRMessage
table.Email.UserName=anonymitty
5.5.2 SetEmailConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
ParamName ParamValue type Description
Email.Address string SMTP server IP address or name.
Email.Anonymous bool Enable/Disable anonymous email.
Email.AttachEnable bool Enable/Disable email attachment
Email.AttachmentEnable bool Enable/Disable email attachment
Email.Enable bool Enable/Disable email function
Email.HealthReport.Enable bool Enable/Disable report device status by email.
30
Email.HealthReport.Interval integer Range is [30-1440].
Unit is minutes
Email.Password string User password of email account.
Email.Port integer Range is [1-65535]
Email.Receivers[0] string Email addresses of 3 receivers.
Email.Receivers[1] string
Email.Receivers[2] string
Email.SendAddress string Sender email address.
Email.SslEnable bool True: enable SSL email.
Email.Title string Title of email.
Email.UserName string User name of email account.
5.6Wlan
5.6.1 GetWlanConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=WLan
Comment
Response table.WLan.eth2.Enable=true
table.WLan.eth2.Encryption=off
table.WLan.eth2.KeyFlag=false
table.WLan.eth2.KeyID=0
table.WLan.eth2.KeyType=Hex
table.WLan.eth2.Keys[0]=password1
table.WLan.eth2.Keys[1]=password2
table.WLan.eth2.Keys[2]=password3
table.WLan.eth2.Keys[3]=password4
table.WLan.eth2.LinkMode=Auto
table.WLan.eth2.SSID=dahua
5.6.2 SetWlanConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment interface is name of wireless interface, to get all the network interfaces and their properties, refer to 5.1:NetInterfaces.
Response OK or ERROR
31
ParamName ParamValue type Description
WLan.interface.Enable bool True: Enable WLan on this interface.
WLan.interface.Encryption string Range is {Off, On, WEP64Bits, WEP128Bits,
WPA-PSK-TKIP, WPA-PSK-CCMP}
Encryption mode.
WLan.interface.KeyFlag bool true: key is configured.
WLan.interface.KeyID integer Range is [0-3]
Indicates which key is used.
0 : WLan.interface.Keys[0] is used.
WLan.interface.KeyType string Range is {Hex, ASCII]
WLan.interface.Keys[0] string For ASCII key type: 64bits encryption key length is 5,
128bits encryption key length is 13, consists of [0-9,
a-z, A-Z]
For HEX key type: 64bits encryption key length is 10,
128bits encryption key length is 26, consists of [0-9,
a-z, A-Z]
WLan.interface.Keys[1] string
WLan.interface.Keys[2] string
WLan.interface.Keys[3] string
WLan.interface.LinkMode string Range is {Auto, Ad-hoc, Infrastructure}.
Auto – select suitable mode automatically.
Ad-hoc – Device with wireless network adapter can
connect to each other without Access Point.
Infrastructure – Integrate wire and wireless LAN
together to share network resource, access point is
need in this mode.
WLan.interface.SSID string
5.7UPnP
5.7.1 GetUPnPConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=UPnP
Comment Index in below is the UPNP map table index, start from 0.
Response table.UPnP.Enable=true
table.UPnP.MapTable[index].Enable=true
table.UPnP.MapTable[index].InnerPort=80
table.UPnP.MapTable[index].OuterPort=8080
table.UPnP.MapTable[index].Protocol=TCP
table.UPnP.MapTable[index].ServiceName=HTTP
32
5.7.2 SetUPnPConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Index in below table is UPNP map table index, range is [0-255]
Response OK or ERROR
ParamName ParamValue type Description
UPnP.Enable bool Enable/Disable UPNP feature.
UPnP.MapTable[index].Enable bool Enable/Disable this UPNP map.
UPnP.MapTable[index].InnerPort integer Range is [1-65535].
Inner port number
UPnP.MapTable[index].OuterPort integer Range is [1-65535].
Outer port number.
UPnP.MapTable[index].Protocol string Range is {TCP, UDP]
UPnP.MapTable[index].ServiceName string User defined UPnP service name.
5.7.3 GetUPnPStatus
URL Syntax http://<ip>/cgi-bin/netApp.cgi?action=getUPnPStatus
Comment Get UPNP mapping result:
result=1: mapping succeed.
result=0: mapping failed.
Response rsult=1
5.8NTP
5.8.1 GetNTPConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=NTP
Comment
Response table.NTP.Address=clock.isc.org
table.NTP.Enable=false
table.NTP.Port=38
table.NTP.TimeZone=9
table.NTP.UpdatePeriod=31
33
5.8.2 SetNTPConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
ParamName ParamValue type Description
NTP.Address string NTP server IP address or name.
NTP.Enable bool Enable/Disable NTP server.
NTP.Port integer Range is [1-65535].
Port of NTP server.
NTP.TimeZone integer Range is [0-32].
0: "GMT+00:00"
1: "GMT+01:00"
2: "GMT+02:00"
3: "GMT+03:00"
4: "GMT+03:30"
5: "GMT+04:00"
6: "GMT+04:30"
7: "GMT+05:00"
8: "GMT+05:30"
9: "GMT+05:45"
10: "GMT+06:00"
11: "GMT+06:30"
12: "GMT+07:00"
13: "GMT+08:00"
14: "GMT+09:00"
15: "GMT+09:30"
16: "GMT+10:00"
17: "GMT+11:00"
18: "GMT+12:00"
19: "GMT+13:00"
20: "GMT-01:00"
21: "GMT-02:00"
22: "GMT-03:00"
23: "GMT-03:30"
24: "GMT-04:00"
25: "GMT-05:00"
26: "GMT-06:00"
27: "GMT-07:00"
28: "GMT-08:00"
29: "GMT-09:00"
30: "GMT-10:00"
34
31: "GMT-11:00"
32: "GMT-12:00"
NTP.UpdatePeriod integer Range is [0-65535], unit is minutes
5.9AlarmServer
5.9.1 GetAlarmServerConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=AlarmServer
Comment
Response table.AlarmServer.Address=0.0.0.0
table.AlarmServer.Enable=true
table.AlarmServer.Port=37777
5.9.2 SetAlarmServerConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
ParamName ParamValue type Description
AlarmServer.Address string Alarm server IP address or name.
AlarmServer.Enable bool Enable/Disable Alarm server.
AlarmServer.Port integer Range is [1-65535].
Port of Alarm server.
6.Events
6.1EventHandler
EventHandler is used in alarm and event config in following sections.
It contains setting for actions linked with alarm and events. Actions include record, snapshot, PTZ action,
log, mail, alarm out and so on.
35
When alarm or event happen, actions defined in alarm EventHandler and event EventHandler are executed.
6.1.1 GetEventHandler
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=<handlerName>
Comment < handlerName> can be one of below four formats
Alarm[alarm channel].EventHandler
MotionDetect[video channel]. EventHandler
BlindDetect[video channel]. EventHandler
LossDetect[video channel]. EventHandler
Example URL:
http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Alarm[0].EventHandler
can get EventHandler settings of alarm channel 0.
Response handlerName.EventHandler.AlarmOut=1
handlerName.EventHandler.AlarmOutChannels[0]=1
handlerName.EventHandler.AlarmOutChannels[1]=1
…
handlerName.EventHandler.AlarmOutEnable=false
handlerName.EventHandler.AlarmOutLatch=10
handlerName.EventHandler.BeepEnable=true
handlerName.EventHandler.Dejitter=0
handlerName.EventHandler.Delay=30
handlerName.EventHandler.LogEnable=true
handlerName.EventHandler.MailEnable=true
handlerName.EventHandler.PtzLink[0][0]=None
handlerName.EventHandler.PtzLink[0][1]=0
handlerName.EventHandler.PtzLink[1][0]=None
handlerName.EventHandler.PtzLink[1][1]=0
…
handlerName.EventHandler.PtzLinkEnable=false
handlerName.EventHandler.Record=1
handlerName.EventHandler.RecordChannels[0]=1
handlerName.EventHandler.RecordChannels[1]=1
…
handlerName.EventHandler.RecordEnable=true
handlerName.EventHandler.RecordLatch=10
handlerName.EventHandler.Snapshot=1
handlerName.EventHandler.SnapshotChannels[0]=1
handlerName.EventHandler.SnapshotChannels[1]=1
…
handlerName.EventHandler.SnapshotEnable=false
handlerName.EventHandler.SnapshotPeriod=3
handlerName.EventHandler.SnapshotTimes=0
36
handlerName.EventHandler.TimeSection[0][0]=1 01:00:00-24:00:00
handlerName.EventHandler.TimeSection[0][1]=1 01:00:00-24:00:00
…
…
handlerName.EventHandler.TimeSection[6][5]=1 01:00:00-24:00:00
handlerName.EventHandler.TipEnable=true
6.1.2 SetEventHandler
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Meaning of handlerName is the same with 6.1.1 GetEventHandler
Response OK or ERROR
paramName paramValue
type
Description
handlerName.EventHandler.AlarmOutChannels[ch] integer Range is {0, 1}, ch is alarm out channel index.
0 – do not output alarm at alarm out channel ch
1 – output alarm at alarm out channel ch
handlerName.EventHandler.AlarmOutEnable bool Enable/Disable alarm out function.
handlerName.EventHandler.AlarmOutLatch Integer Range is [10-300].
Unit is seconds, indicates the time to output alarm after input alarm is
cleared.
handlerName.EventHandler.BeepEnable bool Enable/Disable beep.
handlerName.EventHandler.Dejitter integer Range is [0-255].
Alarm signal dejitter seconds. Alarm signal change during this period is
ignored.
handlerName.EventHandler.Delay integer Range is [0-300].
Delay seconds before setting take effect.
handlerName.EventHandler.LogEnable bool Enable/Disable log for alarm.
handlerName.EventHandler.MailEnable bool Enable/Disable mail send for alarm.
handlerName.EventHandler.PtzLink[ch][0] string Range is {None, Preset, Tour, Pattern}
This is PTZ action linked with events. ch is PTZ channel index.
handlerName.EventHandler.PtzLink[ch][1] integer This is the parameter of PtzLink[ch][0],
If PtzLink[ch]][0] is
Preset: this is preset point.
Tour: this is tour path number.
Pattern: this is pattern number.
handlerName.EventHandler.PtzLinkEnable Bool Enable/Disable PTZ link.
handlerName.EventHandler.RecordChannels[ch] Integer Range is {0, 1}
0 – do not record on video channel ch
1 – record. on video channel ch
handlerName.EventHandler.RecordEnable bool Enable/Disable record function.
37
handlerName.EventHandler.RecordLatch integer Range is [10-300].
Unit is seconds, indicates the time to record after input alarm is cleared..
handlerName.EventHandler.SnapshotChannels[ch] integer Range is {0, 1}
0 – do not snapshot on video channel ch
1 – snapshot on video channel ch
handlerName.EventHandler.SnapshotEnable bool Enable/Disable snapshot function.
handlerName.EventHandler.SnapshotPeriod integer Range is [0-255].
Frames between snapshot.
0 means continuously snapshot for every frame.
handlerName.EventHandler.SnapshotTimes integer Range is [0-65535]
Snapshot times before stop, 0 means don’t stop snapshot.
handlerName.EventHandler.TimeSection[wd][ts] String It’s table contains effective time period for eventHanlder everyday.
wd (week day) range is [0-6] (Sunday-Staurday)
ts (time section) range is [0-23], it’s index of timesection table.
Format: mask hh:mm:ss-hh:mm:ss
Mask: {0,1}, hh: [0-24], mm: [00-59], ss: [00-59]
Mask 0: this time section is not used.
Mask 1: this time section is used.
Example:
TimeSection[1][0]=1 12:00:00-18:00:00
Means EventHandler is effective between 12:00:00 and 18:00:00 at
Monday.
handlerName.EventHandler.TipEnable bool Enable/Disable local message box tip.
6.2Alarm
6.2.1 GetAlarmConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Alarm
Comment
Response table.Alarm[0].Enable=false
table.Alarm[0].EventHandler….(output of EventHandler is described in 6.1.1 GetEventHandler)
table.Alarm[0].Name=Door1
table.Alarm[0].SensorType=NC
table.Alarm[1]….
…
38
6.2.2 SetAlarmConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment In below table, input is external alarm input channel, ch is channel number, wd is weekday index, ts is timesection index.
EventHandler defines parameter of relevant actions when alarm or event happens. It’s also used in following sections about
events.
Response OK or ERROR
ParamName ParamValue type Description
Alarm[input].Enable bool Enable/Disable alarm from a input channel
Alarm[input].EventHandler Setting of EventHandler is described in 6.1.2 SetEventHandler
Alarm[input].Name string Name of alarm input channel.
Alarm[input].SensorType string Range is {NC, NO].
NC: normal close
NO: normal open
6.2.3 GetAlarmOutConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=AlarmOut
Comment alarmOutChannel below is the alarm out channel index.
Response table.AlarmOut[alarmOutChannel].Mode=0
table.AlarmOut[alarmOutChannel].Name=Beep
6.2.4 SetAlarmOutConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Port in below table is alarm out port index, start form 0.
Response OK or ERROR
ParamName ParamValue type Description
AlarmOut[port].Mode integer Range is {0, 1, 2}
0: automatically alarm
1: force alarm
2: close alarm
AlarmOut[port].Name string Alarm out port name.
39
6.2.5 GetInSlots
URL Syntax http://<ip>/cgi-bin/alarm.cgi?action=getInSlots
Comment Get alarm input channel number.
Below response means there are 2 alarm input channels.
Response result=2
6.2.6 GetOutSlots
URL Syntax http://<ip>/cgi-bin/alarm.cgi?action=getOutSlots
Comment Get alarm output channel number.
Response result=1
6.2.7 GetInState
URL Syntax http://<ip>/cgi-bin/alarm.cgi?action=getInStates
Comment Get alarm input state for all channels.
A bit in the response result indicates a channel alarm states, below result 3 means alarm channel 1 and channel 2 have
alarm now.
Response result=3
6.2.8 GetOutState
URL Syntax http://<ip>/cgi-bin/alarm.cgi?action=getOutStates
Comment Get alarm output state for all channels.
A bit in the response result indicates a channel. 1 means alarm is present.
Response result=0
40
6.3MotionDetect
6.3.1 GetMotionDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=MotionDetect
Comment MotionDetect config of a video channel contains Enable, Level, Region and EventHandler.
Response table.MotionDetect[0].Enable=false
table.MotionDetect[0].EventHandler… (output of EventHandler is described in 6.1.1 GetEventHandler)
table.MotionDetect[0].Level=3
table.MotionDetect[0].Region[0]=4194303
table.MotionDetect[0].Region[1]=4194303
…
…
table.MotionDetect[1]…
…
6.3.2 SetMotionDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel index
LineNum
Index of region, region is divided into lines and each line has several blocks, a line is described by a 32 bit integer, a bit for
a block..
 0=Line 1
 1=Line 2
 …
 …
Head = MotionDetect[Channel]
The italics below will be replaced by the above abbreviations.
Response OK or ERROR
ParamName ParamValue type Description
head.Enable bool Enable/Disable motion detect feature in a channel.
head.EventHandler Setting of EventHandler is described in 6.1.2 SetEventHandler
head.Level integer Range is [1-6].
Sensitivity of motion detection.
1: lowest sensitivity.
6: highest sensitivity.
head.Region[LineNum] integer Currently, region is divided into 18 lines and 22 blocks/line.
A bit describes a block in the line.
Bit = 1: motion in this block is monitored..
41
Example:
MotionDetect[0].Region[0] = 4194303 (0x3FFFFF):: motion in channel 0 line 0’s
22 blocks is monitored.
MotionDetect[0].Region[1] =0: motion in line 1’s 22 blocks is not monitored.
MotionDetect[0].Region[17] = 3: in the last line of channel 0, motion in the left
two blocks is monitored.
6.4BlindDetect
6.4.1 GetBlindDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=BlindDetect
Comment Channel: video channel number
head= table.BlindDetect[Channel]
Response head.Enable=false
head.EventHandler= (output of EventHandler is described in 6.1.1 GetEventHandler)
head.Level=3
6.4.2 SetBlindDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel number
head=BlindDetect[Channel]
Response OK or ERROR
ParamName ParamValue type Description
head.Enable bool Enable/Disable blind detect feature.
head.EventHandler Setting of EventHandler is described in 6.1.2 SetEventHandler
head.Level integer Range is [1-6].
Sensitivity of blind detection.
1: lowest sensitivity.
6: highest sensitivity.
6.5LossDetect
6.5.1 GetLossDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=LossDetect
Comment Channel: video channel number
42
head=table.BlindDetect[Channel]
Response head.Enable=false
head.EventHandler= (output of EventHandler is described in 6.1.1 GetEventHandler)
6.5.2 SetLossDetectConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Channel: video channel number
Head = BlindDetect[Channel]
Response OK or ERROR
ParamName ParamValue type Description
head.Enable bool Enable/Disable loss detect feature.
head.EventHandler Setting of EventHandler is described in 6.1.2 SetEventHandler
6.6 GetEventIndexes
URL Syntax http://<ip>/cgi-bin/eventManager.cgi?action=getEventIndexes&code=<eventCode>
Comment Get channels indexes that event of code eventCode happens.
eventCode includes:
VideoMotion: motion detection event
VideoLoss: video loss detection event
VideoBlind: video blind detection event.
Response channels[0]=0
channels[1]=2
channels[2]=3
…
(This response means event happened on channel 0, channel 2, and channel 3.)
7.PTZ
7.1PTZConfig
7.1.1 GetPTZConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Ptz
Comment Port in below table is PTZ port index, start form 0.
Response table.Ptz[port].Address=8
table.Ptz[port].Attribute[0]=115200
43
table.Ptz[port].Attribute[1]=8
table.Ptz[port].Attribute[2]=Even
table.Ptz[port].Attribute[3]=1
table.Ptz[port].Homing[0]=0
table.Ptz[port].Homing[1]=30
table.Ptz[port].NumberInMatrixs=0
table.Ptz[port].ProtocolName=NONE
7.1.2 SetPTZConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Port in below table is PTZ port index, start form 0.
Response OK or ERROR
ParamName ParamValue type Description
Ptz[port].Address integer Range is [0-255].
Device address, if there are more than one device connected to
this port, distinguish them by this address.
Ptz[port].Attribute[0] integer Range is {1200, 2400 ,4800, 9600, 19200, 38400, 57600,
115200}.
Baudrate
Ptz[port].Attribute[1] integer Range is {4, 5, 6, 7, 8}.
Data bit.
Ptz[port].Attribute[2] String Range is {Even, Mark, None, Odd, Space}.
Parity verification mode.
Ptz[port].Attribute[3] float Range is {1, 1.5, 2}.
Stop bit.
Ptz[port].Homing[0] integer Range is {-1,0-255}
-1: homing is disabled.
[0-255]: preset point number
Ptz[port].Homing[1] integer Range is [0-65535].
No operation timeout, unit is seconds.
After no operation timeout, PTZ go to preset point set in
Ptz[port].Homing[0].
Ptz[port].ProtocolName String PTZ protocol name, depends on PTZ capability,
refer to 7.2.1 GetProtocolList to get the protocol list.
44
7.2PTZControl
7.2.1 GetProtocolList
URL Syntax http://<ip>/cgi-bin/ptz.cgi?action=getProtocolList
Comment Get PTZ protocol list.
Response contains all support PTZ protocols separated by comma.
Response result=NONE,AD1641M,ADMATRIX,BANKNOTE,DH-CC440,DH-MATRIX,DH-SD1,DH-SD2,HAIYU,HY,LILIN,PANASONIC
7.2.2 GetCurrentProtocolCaps
URL Syntax http://<ip>/cgi-bin/ptz.cgi?action=getCurrentProtocolCaps&channel=<channelNo>
Comment Get PTZ protocol list, channelNo is PTZ channel index.
Response caps.AlarmLen=0
caps.AuxMax=8
caps.AuxMin=1
caps.CamAddrMax=255
caps.CamAddrMin=1
caps.HighAuxMask=0
caps.Internal=2000
caps.LowAuxMask=0
caps.Menu=false
caps.MonAddrMax=255
caps.MonAddrMin=0
caps.Name=DH-SD1
caps.PanSpeedMax=255
caps.PanSpeedMin=1
caps.PatternMax=5
caps.PatternMin=1
caps.PresetMax=80
caps.PresetMin=1
caps.TileSpeedMax=255
caps.TileSpeedMin=1
caps.TourMax=7
caps.TourMin=0
caps.Type=1
caps.lowMask=2143289167
Field in response Description
AlarmLen Alarm length in protocol
AuxMax Maximum/Minimum number for auxiliary functions
45
AuxMin
CamAddrMax Maximum/Minimum channel address
CamAddrMin
Menu True or false, support internal menu of the PTZ or not,
MonAddrMax Maximum/Minimum monitor address
MonAddrMin
Name Name of the operation protocol
PanSpeedMax Maximum/Minimum pan speed.
PanSpeedMin
PatternMax Maximum/Minimum pattern path number.
PatternMin
PresetMax Maximum/Minimum preset point number.
PresetMin
TileSpeedMax Maximum/Minimum tile speed.
TileSpeedMin
TourMax Maximum/Minimum tour path number.
TourMin
Type Type of PTZ protocol.
7.2.3 PTZ control commands
URL Syntax http://<ip>/cgi-bin/ptz.cgi?action=[action]&channel=[ch]&code=[code]&arg1=[argstr]& arg2=[argstr]&arg3=[argstr]
Comment This URL is used to start/stop PTZ control command.
action is PTZ control command, it can be start or stop.
ch is PTZ channel, code is PTZ operation, and arg1, arg2, arg3 is the arguments of operation.
Code and argstr values are listed in below table.
Response OK or ERROR
Code Code description arg1 arg2 arg3
Up Tile up 0 Vertical speed, range
is [1-8]
0
Down Tile down 0 Vertical speed, range
is [1-8]
0
Left Pan left 0 Vertical speed, range
is [1-8]
0
Right Pan right 0 Vertical speed, range
is [1-8]
0
ZoomWide Zoom out 0 multiple 0
ZoomTele Zoom in 0 multiple 0
FocusNear Focus near 0 multiple 0
FocusFar Focus far 0 multiple 0
IrisLarge Aperture larger 0 multiple 0
IrisSmall Aperture smaller 0 multiple 0
46
GotoPreset Go to PTZ preset point 0 Preset point number 0
SetPreset Set PTZ preset point 0 Preset point number 0
ClearPreset Clear PTZ preset point 0 Preset point number 0
LampWaterClear 1: open
2: close
0 0
StartTour Start PTZ tour Tour path number 0 1: start
2: automatically
3: stop
LeftUp Pan left and tile up Vertical speed, range
is [1-8]
Horizontal speed,
range is [1-8]
0
RightUp Pan right and tile up Vertical speed, range
is [1-8]
Horizontal speed,
range is [1-8]
0
LeftDown Pan left and tile down Vertical speed, range
is [1-8]
Horizontal speed,
range is [1-8]
0
RightDown Pan right and tile down Vertical speed, range
is [1-8]
Horizontal speed,
range is [1-8]
0
AddTour Add preset point to tour path Tour path number Preset point number 0
DelTour Delete preset point from tour path Tour path number Preset point number 0
ClearTour Clear tour path Tour path number 0 0
AutoPanOn Start pan rotate 0 0 0
AutoPanOff Stop pan rotate 0 0 0
SetLeftLimit Set left limit. 0 0 0
SetRightLimit Set right limit. 0 0 0
AutoScanOn Start auto scan. 0 0 0
AutoScanOff Stop auto scan. 0 0 0
SetPatternBegin Begin pattern path set. Pattern number 0 0
SetPatternEnd End pattern path set. Pattern number 0 0
StartPattern Run pattern path Pattern number 0 0
StopPattern Stop pattern path Pattern number 0 0
ClearPattern Clear pattern path Pattern number 0 0
AlarmSearch Search alarm. 0 0 0
Position Go to position Horizontal position Vertical position Zoom change
AuxOn Auxiliary function on, auxiliary function
is defined in product definition
document.
0 0 0
AuxOff Auxiliary function off 0 0 0
Menu 0 0 0
Exit 0 0 0
Enter 0 0 0
Esc 0 0 0
MenuUp 0 0 0
MenuDown 0 0 0
MenuLeft 0 0 0
MenuRight 0 0 0
47
Reset Restore default configuration. 0 0 0
SetPresetName Preset point number
(1 byte)
Preset point title. 0
AlarmPtz Alarm linked PTZ. External alarm input
channel.
Link type：
1: go to preset point
2: auto scan
3: tour
Argument of link type:
Link type = 1,
this is preset point
number
Link type = 2,
this is auto scan path
Link type = 3,
this is tour path
LightController Control the light on/off. Address of light
controller
Light number switch
PositionABS Go to ABS position Horizontal angle:
0°-360°
Vertical angle :0°-90° Zoom in mutiple
PositionReset Use current direction as reference. 0 0 0
UpTele up + TELE Speed [1-8] 0 0
DownTele down + TELE Speed [1-8] 0 0
LeftTele left + TELE Speed [1-8] 0 0
RightTele right + TELE Speed [1-8] 0 0
LeftUpTele leftup + TELE Speed [1-8] 0 0
LeftDownTele leftdown + TELE Speed [1-8] 0 0
RigjtUpTele rightup + TELE Speed [1-8] 0 0
RightDownTele rightdown + TELE Speed [1-8] 0 0
UpWide up + WIDE Speed [1-8] 0 0
DownWide down + WIDE Speed [1-8] 0 0
LeftWide left + WIDE Speed [1-8] 0 0
RightWide right + WIDE Speed [1-8] 0 0
LeftUpWide leftup + WIDE Speed [1-8] 0 0
LeftDownWide leftdown + WIDE Speed [1-8] 0 0
RightUpWide rightup + WIDE Speed [1-8] 0 0
RightDownWide rightdown + WIDE Speed [1-8] 0 0
48
8.Record&Snap
8.1Record
8.1.1 GetRecordConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Record
Comment Channel in below table is video channel number, weekday range is [0-6] (Sunday - Saturday).
Record config contains pre record time and record time sections of every day.
Response table.Record[channel].PreRecord=6
table.Record[channel].TimeSection[weekday][0]=1 00:00:00-24:00:00
table.Record[channel].TimeSection[weekday][1]=0 02:00:00-24:00:00
table.Record[channel].TimeSection[weekday][2]=0 03:00:00-24:00:00
table.Record[channel].TimeSection[weekday][3]=0 04:00:00-24:00:00
table.Record[channel].TimeSection[weekday][4]=0 05:00:00-24:00:00
table.Record[channel].TimeSection[weekday][5]=0 06:00:00-24:00:00
8.1.2 SetRecordConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment In below table: ch = channel index, wd = week day index, ts = time section index
Response OK or ERROR
ParamName ParamValue type Description
Record[ch].PreRecord integer Range is [0-300].
Prerecord seconds, 0 means no prerecord.
ch (Channel number) starts form 0
Record[ch].TimeSection[wd][ts] string wd (week day) range is [0-6] (Sunday - Staurday)
ts (time section) range is [0-23], timesection table index.
Format: mask hh:mm:ss-hh:mm:ss
Mask: [0-65535], hh: [0-24], mm: [0-59], ss: [0-59]
Mask indicates record type by bits:
Bit0: regular record
Bit1: motion detection record
Bit2: alarm record
Bit3: card record
Example:
49
Set record time to every Sunday all day. Record type is motion detection and alarm.
URL should be:
http://<ip>/cgi-bin/configManager.cgi?action=setConfig&name=Record[0].TimeSection[0][0]&table=6 00:00:00-24:00:00
In this example, “6 00:00:00-24:00:00” means motion detection and alarm record all day (6 = 4 & 2, alarm is 4, motion detection is 2.).
8.1.3 GetRecordModeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=RecordMode
Comment Get record mode for video channels. channel in below table is video channel number.
Response table.RecordMode[channel].Mode=0
8.1.4 SetRecordModeConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment channel in below table is video channel index, start form 0.
Response OK or ERROR
ParamName ParamValue type Description
RecordMode[channel].Mode integer Range is {0, 1, 2}.
0: automatically record
1: manually record
2: stop record.
8.2Snap
8.2.1 GetSnapConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Snap
Comment Channel in below table is video channel number, weekday range is [0-6] (Sunday - Saturday).
Response table.Snap[channel].TimeSection[weekday][0]=1 00:00:00-24:00:00
table.Snap[channel].TimeSection[weekday][1]=0 02:00:00-24:00:00
table.Snap[channel].TimeSection[weekday][2]=0 03:00:00-24:00:00
table.Snap[channel].TimeSection[weekday][3]=0 04:00:00-24:00:00
table.Snap[channel].TimeSection[weekday][4]=0 05:00:00-24:00:00
table.Snap[channel].TimeSection[weekday][5]=0 06:00:00-24:00:00
50
8.2.2 SetSnapConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment In below table: ch = channel index, wd = week day index, ts = time section index
Response OK or ERROR
ParamName ParamValue type Description
Record[ch].TimeSection[wd][ts] string wd (week day) range is [0-6] (Sunday- Staurday)
ts (time section) range is [0-23], it’s timesection table index.
Format: mask hh:mm:ss-hh:mm:ss
Mask: [0-65535], hh: [0-24], mm: [0-59], ss: [0-59]
Mask indicates record type by bits:
Bit0: regular snapshot
Bit1: motion detection snapshot
Bit2: alarm snapshot
Bit3: card snapshot
:
9.System
9.1General
9.1.1 GetGeneralConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=General
Comment
Response table.General.MachineName=Dahua001
9.1.2 SetGeneralConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
51
ParamName ParamValue type Description
General.MachineName string Device name or serial number.
9.2SystemTime
9.2.1 GetCurrentTime
URL Syntax http://<ip>/cgi-bin/global.cgi?action=getCurrentTime
Comment The time format is "Y-M-D H-m-S". It’s not be effected by Locales.TimeFormat in 9.3.2 SetLocalesConfig.
Response result = 2011-7-3 21:02:32
9.2.2 SetCurrentTime
URL Syntax http://<ip>/cgi-bin/global.cgi?action=setCurrentTime&time=2011-7-3%2021:02:32
Comment The time format is "Y-M-D H-m-S". It’s not be effected by Locales.TimeFormat in 9.3.2 SetLocalesConfig.
Response OK or ERROR
9.3Locales
9.3.1 GetLocalesConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Locales
Comment
Response table.Locales.DSTEnable=false
table.Locales.DSTEnd.Day=1
table.Locales.DSTEnd.Hour=0
table.Locales.DSTEnd.Minute=0
table.Locales.DSTEnd.Month=1
table.Locales.DSTEnd.Week=2
table.Locales.DSTEnd.Year=2011
table.Locales.DSTStart.Day=0
table.Locales.DSTStart.Hour=0
table.Locales.DSTStart.Minute=0
table.Locales.DSTStart.Month=1
table.Locales.DSTStart.Week=1
table.Locales.DSTStart.Year=2011
52
table.Locales.TimeFormat=yyyy-MM-dd HH:mm:ss
9.3.2 SetLocalesConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
ParamName ParamValue
type
Description
Locales.DSTEnable bool Enable/Disable DST (daylight saving time)
Locales.DSTEnd.Day integer Range is [0-6] or [1-31]
[0-6]: week day, 0 = Sunday, 6 = Saturday
[1-31]: month day
If Locales.DSTEnd.Week is 0, use month day, otherwise, use week day.
Locales.DSTEnd.Hour integer Range is [0-23]
Locales.DSTEnd.Minute integer Range is [0-59]
Locales.DSTEnd.Month integer Range is [1-12]
Locales.DSTEnd.Week Integer Range is {1,2,3,4,-1,0}.
0 = Use month day
[1,2,3,4,-1]: use week day.
1 = first week, 2 = second, 3 = third, 4 = fourth, -1 = last.
Locales.DSTEnd.Year Integer Range is [2000-2038]
Locales.DSTStart.Day Range is the same with items in Locales.DSTEnd
Locales.DSTStart table and Locales.DSTEnd table together defines the
time range of DST.
Locales.DSTStart.Hour
Locales.DSTStart.Minute
Locales.DSTStart.Month
Locales.DSTStart.Week
Locales.DSTStart.Year
Locales.TimeFormat string Defines time format displayed in video time title.
String form is: year-month-day hour:mm:ss.
Position of year, month and day can be exchanged.
Range of year is {yy, yyyy}
yy = year without century, yyyy = year with century.
Range of month is {M, MM, MMMM}
M = 1 for January, MM = 01 for January, MMMM = Jan for January
Range of day is {d, dd}
d = 1 for first day, dd = 01 for first day
Range of hour is {H, HH, h, hh}
H = 1 for 1:00, HH = 01 for 1:00, range is 0-23
53
h = 1 for 1:00, hh = 01 for 1:00, time range is 1-12
Example:
yyyy-MM-dd HH:mm:ss or
MM-dd-yyyy HH:mm:ss or
dd-M-yy hh:mm:ss
9.4Language
9.4.1 GetLanguageCaps
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getLanguageCaps
Comment Get the list of supported languages, response is a string contains languages with comma separated.
Languages include
{English, SimpChinese, TradChinese, Italian, Spanish, Japanese, Russian, French, German]
Response Languages=SimpChinese,English,French
9.4.2 GetLanguageConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=Language
Comment Get current system language cofnig.
Response table.Language=SimpChinese
9.4.3 SetLanguageConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment NOTE: After changing language setting, system will automatically reboot!
Response OK or ERROR
ParamName ParamValue type Description
Language string The language range is get from interface in 9.3.1 GetLanguageCaps
54
9.5AccessFilter
9.5.1 GetAccessFilterConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=AccessFilter
Comment bannedIndex below is the banned IP list index,
trustIndex below is the trust IP list index.
Response table.AccessFilter.BannedList[bannedIndex]=10.6.10.1
table.AccessFilter. TrustList[trustIndex]=1.2.3.4
table.AccessFilter.Enable=false
table.AccessFilter.Type=BannedList
9.5.2 SetAccessFilterConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment Range of index in below table is [0-255]
Response OK or ERROR
ParamName ParamValue type Description
AccessFilter.BannedList[index] string Banned IP address list
AccessFilter.TrustList[index] string Trusted IP address list
AccessFilter.Enable bool Enable/Disable access filter function
AccessFilter.Type string Range is {TrustList, BannedList},
TrustList: Turst list is used, banned list is not used.
BannedList: Banned list is used, turst list is not used.
9.6AutoMaintain
9.6.1 GetAutoMaintainConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=getConfig&name=AutoMaintain
Comment
Response table.AutoMaintain.AutoOpenDay=3
table.AutoMaintain.AutoOpenHour=0
table.AutoMaintain.AutoOpenMinute=0
table.AutoMaintain.AutoRebootDay=1
55
table.AutoMaintain.AutoRebootHour=0
table.AutoMaintain.AutoRebootMinute=0
table.AutoMaintain.AutoShutDay=1
table.AutoMaintain.AutoShutHour=2
table.AutoMaintain.AutoShutMinute=0
9.6.2 SetAutoMaintainConfig
URL Syntax http://<ip>/cgi-bin/configManager.cgi?action=setConfig&<paramName>=<paramValue>[&<paramName>=<paramValue>...]
Comment
Response OK or ERROR
ParamName ParamValue
type
Description
AutoMaintain.AutoOpenDay integer Range is [-1-7].
Auto restart day.
-1 = never auto restart
0- 6 = Sunday-Saturday
7 = restart every day
AutoMaintain.AutoOpenHour integer Range is [0-23].
Auto restart hour
AutoMaintain.AutoOpenMinute integer Range is [0-59].
Auto restart minute
AutoMaintain.AutoRebootDay integer Auto reboot time.
AutoMaintain.AutoRebootHour Range is same with AutoOpenDay, AutoOpenHour, AutoOpenMinute.
AutoMaintain.AutoRebootMinute
AutoMaintain.AutoShutDay integer Auto shutdown time.
AutoMaintain.AutoShutHour Range is same with AutoOpenDay, AutoOpenHour, AutoOpenMinute.
AutoMaintain.AutoShutMinute
9.7UserManager
9.7.1 Group
 There are two user groups: “admin” and “user”. The “admin” group has all the authorities of operating the IP Camera. The “user” group
only has monitor and replay authorities.
56
9.7.2 GetGroupInfo
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=getGroupInfo&name=<groupName>
Comment Get group setting with name groupName.
The range of groupName is: “admin” and “user”.
Response group.Name=admin
group.Memo=administrator group
9.7.3 GetGroupInfoAll
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=getGroupInfoAll
Comment Get information of all groups.
Response group[0].Name=admin
group[0].Memo=administrator group
group[1].Name=user
group[1].Memo=user group
group[2]….
9.7.4 AddUser
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=addUser&
user.Name=<userName>&
user.Password=<userPassword>&
user.Memo=<userMemo>&
user.Group=<userGroup>&
user.Reserved=<userReserved>&
user.Sharable=<userSharable>
Comment user.Group: string, the range is “admin” and “user”. In different group, the user has different authorities.
user.Sharable: bool, true means allow multi-point login.
User.Reserved: bool, true means this user can’t be deleted.
For example:
Add a user of name operator, password 123456, belongs to group user, and allow multi-point login.
http://<ip>/cgi-bin/userManager.cgi?action=addUser&user.Name=operator&user.Password=123456&user.Group=user&us
er.Sharable=true&user.Reserved=false
Response OK or ERROR
57
9.7.5 DeleteUser
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=deleteUser&name=<userName>
Comment Delete user with name username.
Response OK or ERROR
9.7.6 ModifyUser
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=modifyUser&
name=<oldUserName>&
user.Name=<userName>&
user.Password=<userPassword>&
user.Memo=<userMemo>&
user.Group=<userGroup>&
user.Reserved=<userReserved>&
user.Sharable=<userSharable>
Comment Value range of parameters in <> is the same with 9.7.4 AddUser
Response OK or ERROR
9.7.7 ModifyPassword
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=modifyPassword&name=<username>&pwd=<newPwd>&pwdOld=<oldPwd>
Comment Modify user password, old password oldPwd should be supplied, new password is newPwd.
Response OK or ERROR
9.7.8 GetUserInfo
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=getUserInfo&name=<userName>
Comment Get use information with name userName
Response user.Name=admin
user.Memo=admin 's account
user.Group=admin
user.Reserved=true
user.Sharable=true
58
9.7.9 GetUserInfoAll
URL Syntax http://<ip>/cgi-bin/userManager.cgi?action=getUserInfoAll
Comment Get information of all users.
Response users[0].Group=admin
users[0].Id=1
users[0].Memo=admin 's account
users[0].Name=admin
users[0].Reserved=true
users[0].Sharable=true
users[1].Group=admin
…
9.8System Operation
9.8.1 Reboot
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=reboot
Comment Reboot the device. If successful, response OK. If fail, response ERROR.
Response OK or ERROR
9.8.2 Shutdown
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=shutdown
Comment Shutdown the device. If successful, response OK. If fail, response ERROR.
Response OK or ERROR
9.8.3 GetDeviceType
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getDeviceType
Comment Get the device type.
Response type=IPC-HF3300
9.8.4 GetHardwareVersion
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getHardwareVersion
Comment Get the device hardware version
59
Response version=1.00
9.8.5 GetSerialNo
URL Syntax http://<ip> /cgi-bin/magicBox.cgi?action=getSerialNo
Comment Get the device serial number
Response sn=YZC0GZ05100020
9.8.6 GetMachineName
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getMachineName
Comment Get the device machine name.
Response name=YZC0GZ05100020
9.8.7 GetSystemInfo
URL Syntax http://<ip>/cgi-bin/magicBox.cgi?action=getSystemInfo
Comment Get the system information.
Response serialNumber=YZC0GZ05100020
deviceType=IPC-HF3300
hardwareVersion=1.00
9.9 Log
9.9.1 StartFind
URL Syntax http://<ip>/cgi-bin/log.cgi?action=startFind&condition.StartTime=<start>&condition.EndTime=<end>
Comment Start to find log, in response, there is a token for further log finding process.
start/end: the start/end time of log. Format is: yyyy-mm-dd hh:mm:ss.
Example:
Find log between 2011-1-1 12:00:00 and 2011-1-10 12:00:00, URL is:
http://<ip>/cgi-bin/log.cgi?action=startFind&condition.StartTime=2011-1-1 12:00:00
&condition.EndTime=2011-1-10 12:00:00
Response token=1
9.9.2 DoFind
URL Syntax http://<ip>/cgi-bin/log.cgi?action=doFind&token=<tokenValue>&count=<logCount>
60
Comment Find log with token tokenValue and count logCount
tokenValue is get by startFind in above section, logCount is the count of logs for this query.
The maximum value of logCount is 100.
Response found=2
items[0].RecNo=789
items[0].Time=2011-05-20 11:59:10
items[0].Type=ClearLog
items[0].User=admin
items[1].Detail.Compression=H.264->MJPG
items[1].Detail.Data=Encode
items[1].RecNo=790
items[1].Time=2011-05-20 11:59:21
items[1].Type=SaveConfig
items[1].User=System
…
Field in Response Description
found Count of found log, found is 0 if no log is found.
User User name
Type Log type
Time Time of this log
RecNo Log number.
Detail Log details.
9.9.3 StopFind
URL Syntax http://<ip>/cgi-bin/log.cgi?action=stopFind&token=<tokenValue>
Comment Stop query log by token tokenValue
Response OK or ERROR
9.9.4 Clear
URL Syntax http://<ip>/cgi-bin/log.cgi?action=clear
Comment Clear all the logs.
Response OK or ERROR 