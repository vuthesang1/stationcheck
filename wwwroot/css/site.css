/* Fix unwanted scrollbar on empty pages */
html, body {
    overflow-x: hidden !important;
    height: 100%;
    margin: 0;
    padding: 0;
}

body {
    overflow-y: auto !important;
}

.container {
    padding: 20px;
}

.btn {
    margin: 5px;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
}

.btn-primary {
    background-color: #007bff;
    color: white;
    border: none;
}

.btn-success {
    background-color: #28a745;
    color: white;
    border: none;
}

img {
    max-width: 300px;
    margin: 10px 0;
}

#blazor-error-ui {
    display: none;
}

/* DevExpress Grid Fixes - MUST override their CSS */
.dxbs-grid {
    font-size: 14px;
}

.dxbs-grid .dxbs-grid-header-content {
    font-weight: 600;
}

/* Fix ALL SVG icons in grid - use very specific selectors */
div.card-body div[class*="dxbs"] svg,
table.dxbs-grid svg,
th svg,
td svg,
.dxbs-grid-header svg,
.dxbs-grid-header-content svg,
.dxbs-sort-index svg,
.dxbs-filter-row svg,
.dxbs-grid-cell svg,
button svg {
    width: 14px !important;
    height: 14px !important;
    max-width: 14px !important;
    max-height: 14px !important;
    display: inline-block !important;
}

/* Pager buttons */
.dxbs-grid-pager button svg,
.dxbs-pager svg {
    width: 16px !important;
    height: 16px !important;
}

/* Make sure filter textboxes are normal size */
.dxbs-filter-row input {
    font-size: 14px;
    padding: 4px 8px;
}

/* Custom grid class for more specific targeting */
.custom-grid svg {
    width: 14px !important;
    height: 14px !important;
    max-width: 14px !important;
    max-height: 14px !important;
}

.custom-grid th svg,
.custom-grid td svg {
    width: 14px !important;
    height: 14px !important;
}

/* Fix z-index for nested popups - TimeFrameForm inside TimeFrameConfigModal */
/* DevExpress creates separate elements for backdrop and window */
/* Target by class name pattern */
div[class*="timeframe-form-popup"] {
    z-index: 10000 !important;
}

/* Backdrop that appears AFTER the popup element */
.dxbl-popup-backdrop:has(+ div[class*="timeframe-form-popup"]),
div[class*="timeframe-form-popup"] ~ .dxbl-popup-backdrop:last-of-type {
    z-index: 9999 !important;
}

/* All child elements of the popup */
div[class*="timeframe-form-popup"] * {
    position: relative;
    z-index: inherit;
}

/* GLOBAL FIX: All DevExpress popups should be on top of their backdrop */
.dxbl-popup,
[class*="popup"],
div[class*="-popup"],
div[role="dialog"] {
    z-index: 1060 !important;
}

/* All DevExpress backdrops should be below popups */
.dxbl-popup-backdrop,
.dxbl-modal-backdrop {
    z-index: 1055 !important;
}

/* For nested/stacked popups, each subsequent one should be higher */
body > div[class*="popup"]:nth-last-child(1),
body > div[role="dialog"]:nth-last-child(1) {
    z-index: 2000 !important;
}

body > .dxbl-popup-backdrop:nth-last-child(2) {
    z-index: 1999 !important;
}

/* ===== RESPONSIVE MODAL STYLES ===== */
/* Bootstrap Modal Responsive Fixes */
.modal-dialog {
    max-width: 90% !important;
    margin: 1rem auto !important;
}

.modal-content {
    max-height: calc(100vh - 2rem) !important;
    display: flex !important;
    flex-direction: column !important;
}

.modal-body {
    max-height: calc(100vh - 200px) !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    flex: 1 1 auto !important;
}

.modal-footer {
    flex-shrink: 0 !important;
    border-top: 1px solid #dee2e6 !important;
}

/* DevExpress Popup Responsive Fixes */
.dxbl-popup {
    max-height: 95vh !important;
}

.dxbl-popup .dxbl-popup-content {
    max-height: calc(95vh - 100px) !important;
    overflow-y: auto !important;
    display: flex !important;
    flex-direction: column !important;
}

/* TimeFrame Config Modal specific styles */
.timeframe-config-modal .table-responsive {
    max-height: 50vh !important;
    overflow-y: auto !important;
}

/* TimeFrame Form - ensure buttons are always visible */
.timeframe-form-popup .dxbl-popup-content {
    overflow-y: visible !important;
}

.timeframe-form-popup .p-3 {
    max-height: calc(90vh - 100px) !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

/* Scrollable areas within popups */
.dxbl-popup [style*="overflow-y"],
.dxbl-popup .table-responsive {
    -webkit-overflow-scrolling: touch !important;
}

/* Mobile responsiveness (screens smaller than 768px) */
@media (max-width: 767.98px) {
    .modal-dialog {
        max-width: 95% !important;
        margin: 0.5rem auto !important;
    }
    
    .modal-content {
        max-height: calc(100vh - 1rem) !important;
    }
    
    .modal-body {
        max-height: calc(100vh - 150px) !important;
        padding: 1rem !important;
    }
    
    .modal-header {
        padding: 0.75rem 1rem !important;
    }
    
    .modal-footer {
        padding: 0.75rem 1rem !important;
        flex-wrap: wrap !important;
    }
    
    .modal-footer .btn {
        margin: 0.25rem !important;
        font-size: 0.875rem !important;
    }
    
    /* DevExpress Popup mobile */
    .dxbl-popup {
        max-height: 98vh !important;
        width: 95% !important;
    }
    
    .dxbl-popup .dxbl-popup-content {
        max-height: calc(98vh - 80px) !important;
        padding: 1rem !important;
    }
    
    /* Table responsive in modal */
    .modal-body .table-responsive {
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .modal-body table {
        font-size: 0.875rem !important;
        min-width: 600px; /* Ensure table has minimum width for horizontal scroll */
    }
    
    .modal-body th,
    .modal-body td {
        padding: 0.5rem !important;
        white-space: nowrap;
    }
    
    /* Allow wrapping for action buttons column */
    .modal-body td:last-child {
        white-space: normal !important;
    }
    
    /* Form elements in modal */
    .modal-body .form-label {
        font-size: 0.875rem !important;
        margin-bottom: 0.25rem !important;
    }
    
    .modal-body .form-control,
    .modal-body .form-select {
        font-size: 0.875rem !important;
        padding: 0.5rem !important;
    }
    
    /* Button groups in modal */
    .modal-body .btn-group {
        display: flex !important;
        flex-direction: column !important;
        gap: 0.25rem !important;
    }
    
    .modal-body .btn-group .btn {
        width: 100% !important;
    }
    
    /* DevExpress popup mobile specific */
    .dxbl-popup .p-3 {
        padding: 1rem !important;
    }
    
    .dxbl-popup .table-responsive table {
        min-width: 600px;
    }
    
    .dxbl-popup th,
    .dxbl-popup td {
        font-size: 0.875rem !important;
        padding: 0.5rem !important;
    }
    
    .dxbl-popup .btn-group-sm .btn {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.75rem !important;
    }
    
    /* Badges and alerts in modal */
    .modal-body .badge,
    .dxbl-popup .badge {
        font-size: 0.75rem !important;
        padding: 0.25em 0.5em !important;
    }
    
    .modal-body .alert,
    .dxbl-popup .alert {
        font-size: 0.875rem !important;
        padding: 0.5rem !important;
    }
    
    /* Adjust spacing between elements */
    .modal-body .mb-3,
    .dxbl-popup .mb-3 {
        margin-bottom: 0.75rem !important;
    }
    
    /* Card components in modal */
    .modal-body .card,
    .dxbl-popup .card {
        margin-bottom: 0.75rem !important;
    }
    
    .modal-body .card-body,
    .dxbl-popup .card-body {
        padding: 0.75rem !important;
    }
}

/* Tablet responsiveness (screens between 768px and 991.98px) */
@media (min-width: 768px) and (max-width: 991.98px) {
    .modal-dialog {
        max-width: 85% !important;
    }
    
    .modal-body {
        max-height: calc(100vh - 180px) !important;
    }
    
    .dxbl-popup {
        max-height: 90vh !important;
    }
    
    .modal-body table {
        font-size: 0.9rem !important;
    }
}

/* Extra small height devices (landscape phones) */
@media (max-height: 600px) {
    .modal-dialog {
        margin: 0.25rem auto !important;
    }
    
    .modal-content {
        max-height: calc(100vh - 0.5rem) !important;
    }
    
    .modal-body {
        max-height: calc(100vh - 100px) !important;
        padding: 0.5rem !important;
    }
    
    .modal-header,
    .modal-footer {
        padding: 0.5rem !important;
    }
    
    .dxbl-popup {
        max-height: 99vh !important;
    }
    
    .dxbl-popup .dxbl-popup-content {
        max-height: calc(99vh - 60px) !important;
    }
}